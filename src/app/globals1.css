/* =========================================================
   üåà BASE
========================================================= */
:root {
  color-scheme: light dark;

  --bg-gradient: linear-gradient(135deg, #e9f0ff 0%, #f8fbff 100%);
  --card-bg: #ffffff;
  --card-shadow: 0 4px 10px rgba(0,0,0,0.08);

  --accent: #4e6cf2;
  --accent-dark: #2f4cd8;

  --text-main: #222;
  --text-light: #666;

  --radius: 12px;

  --select-bg: #f4f4f4;
  --select-text: #222;
  --select-border: rgba(0,0,0,0.15);
  --select-hover-bg: #e6e6e6;
}

html, body {
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', Roboto, sans-serif;
  background: var(--bg-gradient);
  color: var(--text-main);
  min-height: 100vh;
  transition: background .3s, color .3s;
}

* { box-sizing: border-box; }

ul { list-style: none; padding: 0; margin: 0; }


/* =========================================================
   üì¶ UTILITAIRES GLOBAUX
========================================================= */
.abs-top-right { position:absolute; top:8px; right:8px; }
.abs-bottom-right { position:absolute; bottom:8px; right:8px; }

.flex-center { display:flex; justify-content:center; align-items:center; }

.img-card {
  width:100%;
  height:auto;
  border-radius:10px;
  object-fit:cover;
  display:block;
}

/* =========================================================
   üß≠ NAVBAR
========================================================= */
nav {
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:var(--card-bg);
  padding:10px 16px;
  border-radius:10px;
  margin:16px auto;
  max-width:1200px;
  backdrop-filter:blur(10px);
  box-shadow:0 2px 10px rgba(0,0,0,0.18);
  border:1px solid rgba(255,255,255,0.12);
  overflow:hidden;
  animation:navSpawn .45s cubic-bezier(.16,1,.3,1);
}

.navbar-left,
.navbar-right {
  display:flex;
  gap:16px;
  align-items:center;
}

.nav-link {
  color:var(--text-main);
  text-decoration:none;
  font-weight:500;
  transition:.2s;
}

.nav-link:hover {
  color:var(--accent);
  transform:translateY(-1px);
}

.nav-link-strong { font-weight:700; }

@keyframes navSpawn {
  from { opacity:0; transform:translateY(-6px) scale(.98); filter:blur(3px); }
  to   { opacity:1; transform:translateY(0) scale(1); filter:none; }
}


/* =========================================================
   üß± STRUCTURE G√âN√âRALE
========================================================= */
.app-main {
  max-width:1200px;
  margin:0 auto;
  padding:0 16px 24px;
}

.page {
  padding:16px;
  display:grid;
  gap:24px;
}

.page-header {
  background:rgba(255,255,255,0.03);
  border-radius:14px;
  padding:14px 16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:14px;
  margin-bottom:16px;
  backdrop-filter:blur(8px);
  box-shadow:0 3px 12px rgba(0,0,0,0.25);
}

.page-title { margin:0; }
.page-subtitle { color:var(--text-light); font-size:13px; }


/* =========================================================
   üé¥ CARTES ‚Äî Style unifi√© (Catalog + UserCollection + Trades)
========================================================= */
.grid-view {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:20px;
}

.card {
  background:var(--card-bg);
  border-radius:var(--radius);
  box-shadow:var(--card-shadow);
  padding:8px;
  position:relative;
  overflow:hidden;
  transition:transform .2s, box-shadow .2s;
}

.card:hover {
  transform:translateY(-5px);
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
}

.card-content {
  display:grid;
  gap:4px;
  margin-top:8px;
  font-size:14px;
}

.card-content strong { font-weight:600; }
.card-content span { color:var(--text-light); }

/* Gris√©es (non poss√©d√©es) */
.card--faded { opacity:.4; filter:grayscale(100%); }

/* Demand√©e */
.card--requested {
  outline:2px solid rgba(80,160,255,0.9);
  box-shadow:0 0 10px rgba(80,160,255,0.8);
}

/* Badge quantit√© */
.badge-qty {
  position:absolute;
  top:8px;
  right:8px;
  background:var(--accent);
  color:#fff;
  padding:2px 8px;
  border-radius:999px;
  font-size:12px;
  font-weight:700;
  box-shadow:0 2px 8px rgba(0,0,0,0.2);
}

/* Badge "Demand√©e" */
.badge-request {
  position:absolute;
  bottom:6px;
  right:6px;
  background:rgba(80,160,255,0.95);
  color:#000;
  padding:2px 6px;
  font-size:11px;
  font-weight:900;
  border-radius:999px;
  border:1px solid #000;
}

/* Boutons + / - */
.card-actions {
  display:flex;
  justify-content:center;
  gap:8px;
  margin-top:8px;
}


/* =========================================================
   üîò BOUTONS
========================================================= */
button {
  background:var(--accent);
  color:white;
  border:none;
  padding:6px 10px;
  border-radius:8px;
  cursor:pointer;
  transition:.2s;
  font-size:13px;
}

button:hover:not(:disabled) {
  background:var(--accent-dark);
  transform:translateY(-1px);
  box-shadow:0 3px 8px rgba(0,0,0,.2);
}

button:disabled { opacity:.6; cursor:not-allowed; }

.btn-sm { padding:4px 10px; font-size:12px; }
.btn-danger { background:#dc2626; }
.btn-danger:hover { background:#b91c1c; }

.btn-ghost { background:transparent; box-shadow:none; padding:0; }

.btn-auth-discord { background:#5865f2; }
.btn-auth-twitch { background:#9146ff; }


/* =========================================================
   üîé INPUTS & SELECTS
========================================================= */
input, select {
  border:1px solid #ccc;
  border-radius:8px;
  padding:8px 10px;
  font-size:14px;
  background:var(--select-bg);
  color:var(--select-text);
  transition:.2s;
  outline:none;
}

input:focus, select:focus {
  border-color:var(--accent);
  box-shadow:0 0 0 2px rgba(78,108,242,0.2);
}

.rpg-select {
  min-width:200px;
  appearance:none;
}


/* =========================================================
   ‚öîÔ∏è RPG PANEL (UserCollection)
========================================================= */
.rpg-panel {
  display:flex;
  gap:16px;
  padding:14px;
  border-radius:14px;
  backdrop-filter:blur(6px);
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(0,0,0,.08));
  border:1px solid rgba(255,255,255,0.08);
  box-shadow:0 6px 18px rgba(0,0,0,0.45);
}

.rpg-progress-wrapper { display:flex; flex-direction:column; gap:8px; width:180px; }
.rpg-progress-label { font-size:12px; color:var(--text-light); }
.rpg-progress-bar-outer {
  height:16px;
  border-radius:999px;
  padding:3px;
  background:rgba(0,0,0,0.25);
  box-shadow:inset 0 1px rgba(255,255,255,0.08);
}
.rpg-progress-bar-inner {
  height:100%;
  border-radius:999px;
  transition:width .4s ease;
  background:linear-gradient(90deg,#ff66b2,#7b61ff,#5cc0ff);
}
.rpg-progress-meta {
  display:flex;
  justify-content:space-between;
  font-size:12px;
  color:var(--text-light);
}


/* =========================================================
   üîÅ TRADES ‚Äî PANELS ET MINI-CARTES
========================================================= */
.trade-panel {
  padding:14px;
  border-radius:18px;
  background:var(--card-bg);
  border:1px solid rgba(78,108,242,0.45);
  box-shadow:0 0 0 1px rgba(255,255,255,0.7), 0 12px 30px rgba(15,23,42,0.25);
}

.trade-grid {
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
}

.trade-card {
  position:relative;
  width:78px;
  height:110px;
  border-radius:10px;
  cursor:pointer;
  overflow:hidden;
  transition:.2s;
  box-shadow:0 6px 14px rgba(15,23,42,0.8);
}

.trade-card:hover {
  transform:translateY(-4px) scale(1.03);
  box-shadow:0 0 10px rgba(120,200,255,1);
}

.trade-card.selected {
  box-shadow:0 0 10px rgba(72,230,140,1), 0 0 0 2px rgba(72,230,140,1);
}

.trade-card-img { width:100%; height:100%; object-fit:cover; }

.trade-card-check {
  position:absolute;
  bottom:5px;
  right:5px;
  background:rgba(20,255,120,.95);
  color:#000;
  font-weight:900;
  padding:2px 6px;
  font-size:14px;
  border-radius:999px;
  border:1px solid #000;
}


/* =========================================================
   üåó DARK MODE
========================================================= */
html[data-theme='dark'] {
  --bg-gradient: linear-gradient(135deg,#1e1e2f,#2b2b3f);
  --card-bg:#2d2d3f;
  --card-shadow:0 3px 10px rgba(0,0,0,0.6);
  --accent:#9ba8ff;
  --accent-dark:#7d89e8;
  --text-main:#f2f2f2;
  --text-light:#bbb;

  --select-bg:#2d2d3f;
  --select-text:#f2f2f2;
  --select-border:rgba(255,255,255,0.28);
}


/* =========================================================
   üì± RESPONSIVE
========================================================= */
@media (max-width:900px) {
  nav { flex-direction:column; gap:10px; }
  .grid-view { grid-template-columns:repeat(auto-fill,minmax(150px,1fr)); }
}

@media (max-width:700px) {
  .grid-view { grid-template-columns:repeat(auto-fill,minmax(130px,1fr)); }
  .trade-grid { grid-template-columns:1fr; }
}

@media (max-width:480px) {
  .grid-view { grid-template-columns:repeat(auto-fill,minmax(120px,1fr)); }
  nav { padding:8px 10px; }
}
